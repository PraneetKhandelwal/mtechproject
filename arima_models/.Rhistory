library(ggplot2)
library(forecast)
library(plotly)
library(ggfortify)
library(tseries)
library(gridExtra)
library(docstring)
library(readr)
library(here)
data_google <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai.csv")
data_goog <- ts(data_google[2])
data_diff_goog <- diff(data_goog)
data_log_goog <- log(data_goog)
data_diff_log_goog <- diff(data_log_goog)
data_diff2_log_goog <- diff(data_diff_log_goog)
data_diff2_goog <- diff(data_diff_goog)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
test_data = ts(block_test[2])
predicted <- predict(model,n.ahead=319)
predicted = predicted$pred
accuracy(predicted,test_data)
test = test_data
predicted = predicted[1]
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = block_test[2]
test_data = ts(block_test)
predicted <- predict(model,n.ahead=319)
predicted = predicted$pred
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = block_test[2]
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = predicted$pred
accuracy(predicted,test_data)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = ts(block_test[2],start=c(2017,1))
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = predicted$pred
accuracy(predicted,test_data)
window(predicted,4018,4336)
predicted = window(predicted,4018,4336)
predicted2 = window(predicted,4018,4336)
accuracy(predicted2,test_data)
predicted2 = ts(window(predicted,4018,4336))
accuracy(predicted2,test_data)
predicted = forecast.Arima(model,h=319)
accuracy(test_data,predicted)
accuracy(test_data,predicted2)
test = ts(test)
log(test)
log(test) - predicted2
abs(-1)
a = log(test) - predicted2
a = abs(a)
a/2
b=[1,2]
a = a/log(test)
sum(a)
exp(predicted2)
a = test-exp(predicted2)
a = abs(a)
sum(a)
/319
sum(a)/319
a = a/test
sum(a)
sum(a)/319
sum(a)*100/319
a=(1,2,3)
b=c(1,2,3)
c=c(1,2,3)
b/c
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = predicted$pred
predicted-test_data
predicted = ts(predicted$pred)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
predicted-test_data
len(test_data)
length(test_data)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
accuracy = 100*mean(abs(predicted-test_data)/test_data)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_mumbai_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
accuracy = 100*mean(abs(exp(predicted)-test_data)/test_data)
library(ggplot2)
library(forecast)
library(plotly)
library(ggfortify)
library(tseries)
library(gridExtra)
library(docstring)
library(readr)
library(here)
data_google <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_delhi.csv")
data_goog <- ts(data_google[2])
data_diff_goog <- diff(data_goog)
data_log_goog <- log(data_goog)
data_diff_log_goog <- diff(data_log_goog)
data_diff2_log_goog <- diff(data_diff_log_goog)
data_diff2_goog <- diff(data_diff_goog)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_delhi_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
accuracy = 100*mean(abs(exp(predicted)-test_data)/test_data)
library(ggplot2)
library(forecast)
library(plotly)
library(ggfortify)
library(tseries)
library(gridExtra)
library(docstring)
library(readr)
library(here)
data_google <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_lucknow.csv")
data_goog <- ts(data_google[2])
data_diff_goog <- diff(data_goog)
data_log_goog <- log(data_goog)
data_diff_log_goog <- diff(data_log_goog)
data_diff2_log_goog <- diff(data_diff_log_goog)
data_diff2_goog <- diff(data_diff_goog)
library(plotly)
model <- arima(log(data_goog),order=c(2,1,1))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/retail_lucknow_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
accuracy = 100*mean(abs(exp(predicted)-test_data)/test_data)
clr
clr()
clear()
clear
data_google <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/mandiprice_lucknow.csv")
data_goog <- ts(data_google[2])
data_diff_goog <- diff(data_goog)
data_log_goog <- log(data_goog)
data_diff_log_goog <- diff(data_log_goog)
data_diff2_log_goog <- diff(data_diff_log_goog)
data_diff2_goog <- diff(data_diff_goog)
acf(data_goog)
acf(data_diff_goog)
acf(data_log_goog)
acf(data_diff_log_goog)
acf(data_diff2_log_goog)
adf.test(data_goog)
adf.test(data_diff_goog)
adf.test(data_log_goog)
adf.test(data_diff_log_goog)
auto.arima(data_goog)
auto.arima(data_log_goog)
plot(data_goog)
model <- arima(log(data_goog),order=c(2,1,2))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/mandiprice_lucknow_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
accuracy = 100*mean(abs(exp(predicted)-test_data)/test_data)
plot(test_data)
plot(exp(predicted))
library(ggplot2)
library(forecast)
library(plotly)
library(ggfortify)
library(tseries)
library(gridExtra)
library(docstring)
library(readr)
library(here)
data_google <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/mandiprice_lucknow.csv")
data_goog <- ts(data_google[2])
data_diff_goog <- diff(data_goog)
data_log_goog <- log(data_goog)
data_diff_log_goog <- diff(data_log_goog)
data_diff2_log_goog <- diff(data_diff_log_goog)
data_diff2_goog <- diff(data_diff_goog)
acf(data_goog)
acf(data_diff_goog)
acf(data_log_goog)
acf(data_diff_log_goog)
acf(data_diff2_log_goog)
acf(data_diff2_goog)
pacf(data_goog)
pacf(data_diff_goog)
pacf(data_log_goog)
pacf(data_diff_log_goog)
pacf(data_diff2_log_goog)
pacf(data_diff2_goog)
adf.test(data_goog)
adf.test(data_diff_goog)
adf.test(data_log_goog)
adf.test(data_diff_log_goog)
adf.test(data_diff2_log_goog)
adf.test(data_diff2_goog)
#order = c(2,1,1) for retail price
model <- arima(log(data_goog),order=c(2,1,2))
block_test <- read.csv("/home/praneet/Desktop/post_paper/AnomalyPrediction/arima_models/mandiprice_lucknow_test.csv")
block_test = ts(block_test[2])
test_data = block_test
predicted <- predict(model,n.ahead=319)
predicted = ts(predicted$pred)
accuracy = 100*mean(abs(exp(predicted)-test_data)/test_data)
